!function(e,t,n){function i(){t.top._CMLS&&t.top._CMLS.logger&&t.top._CMLS.logger(o+" v"+r,arguments)}var o="Pushdown Ad",r="0.4",d="dfp-pushdown";if(!t.document.querySelector("body.home"))return i("Not on homepage, exiting."),!1;var a=t._CMLS&&t._CMLS.debounce?t._CMLS.debounce:function(e){e()},e=e.noConflict(),$=function(n,i){return new e.fn.init(n,i||t.document)};if($.fn=$.prototype=e.fn,e.extend($,e),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(e)}(function(e){function n(){i&&(t.requestAnimationFrame(n),e.fx.tick())}if(Number(e.fn.jquery.split(".")[0])>=3)return void(t.console&&t.console.warn&&t.console.warn("The jquery.requestanimationframe plugin is not needed in jQuery 3.0 or newer as they handle it natively."));var i;t.requestAnimationFrame&&(e.fx.timer=function(t){t()&&e.timers.push(t)&&!i&&(i=!0,n())},e.fx.stop=function(){i=!1})}),t.document.getElementById(d))return i("Tag already exists, exiting."),!1;var s=t.googletag||{};s.cmd=s.cmd||[],s.cmd.push(function(){function e(){i("Displaying ad.");var e=8e3,t=r.find("iframe:first");if(t.length){i("Got ad iframe.");var o=t.contents().find(".img_ad"),d=t.contents().find("video");if(o.length){i("Making ad image responsive."),o.css({width:"100%",height:"auto"});var a=o.prop("alt")?o.prop("alt").match(/timeout=(\d+)/i):[];a.length>1&&(e=1e3*a[1]),i("Setting hide timer",e),p.css("width","0%").animate({width:"100%"},e,"linear",n),r.slideDown("fast")}if(d.length){if(i("Video detected!"),!d[0].canPlayType||!d[0].canPlayType("video/mp4").replace(/no/,""))return i("This browser cannot play mp4 video! exiting."),!1;d.prop("controls",!1).prop("muted",!0).prop("playsinline",!0).prop("autoplay",!1).on("mouseover",function(){d.prop("muted",!1)}).on("canplaythrough",function(){r.slideDown("fast",function(){d[0].play()})}).on("playing",function(){i("Setting the hide timer",1e3*this.duration),p.css("width","0%").animate({width:"100%"},1e3*this.duration,"linear")}).on("ended",n)}}}function n(){i("Hiding ad."),p.stop().clearQueue(),r.stop().clearQueue().slideUp()}function o(t){if(t.slot.getSlotElementId()===d){if(i("Caught render event for pushdown",t.slot.getSlotElementId()),t.isEmpty)return i("Slot was empty, hiding."),void n();i("Rendering ad."),e()}}var r,p,l,u,c,f;if(f=$(".wrapper-content:first"),!f.length)return i("Could not find placement!"),!1;var m=null;try{var g=t.googletag.pubads(),h=Object.getOwnPropertyNames(g);for(var v in h){var y=g[h[v]];if(y.constructor&&y.constructor===Array)for(var w in y[0])if(y[0][w]&&y[0][w].constructor===String&&y[0][w].indexOf("/6717/")>-1){m=y[0][w];break}if(m)break}if(null===m)throw{message:"Could not retrieve ad unit path."}}catch(e){return i("Failed to retrieve DFP properties.",e),!1}i("Ad path found, defining new slot.",m),r=$('<div id="'+d+'-container" />').css("display","none"),u=$("<style>#"+d+"-container { font-size: 24px; font-size: 5vw; font-weight: lighter; line-height: 0 !important; margin: 0 auto; max-width: 1020px; overflow: hidden; position: relative; }#"+d+' div[id*="google_ads"] { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; }#'+d+" iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }#"+d+" { position: relative; margin-bottom: 10px; }#"+d+"-close { cursor: pointer; position: absolute; top: .75em; right: .3em; z-index: 100000; color: white; font-family: sans; text-shadow: .25em .25em .25em black; mix-blend-mode: exclusion; }#"+d+"-timer { position: absolute; bottom: 7px; left: 0; z-index: 100000; height: 3px; width: 0%; background: #A33; }@media (min-width: 550px) { #"+d+"-container { font-size: 24px; } }</style>").appendTo(r),c=$('<div id="'+d+'"><script>googletag.cmd.push(function() { googletag.display("'+d+'")});</script></div>').appendTo(r),l=$('<div id="'+d+'-close" title="Close">âœ•</div>').click(n).appendTo(r),p=$('<div id="'+d+'-timer"></div>').appendTo(r),s.cmd.push(function(){s.pubads().addEventListener("slotRenderEnded",function(e){i(e),a(o(e),1e3)})}),i("Injecting ad tag."),s.cmd.push(function(){s.defineSlot(m,[1020,574],d).setCollapseEmptyDiv(!0).setTargeting("pos","pushdown").addService(s.pubads())}),f.prepend(r)})}(jQuery,window.self);
//# sourceMappingURL=./pushdown-min.js.map