!function(t,e){t.self!==t.top?t._CMLS={}:t._CMLS=t._CMLS||{},t._CMLS.LOADED||(t._CMLS.const=t._CMLS.const||{},t._CMLS.const.PLAYER_TUNEGENIE=8471,t._CMLS.const.PLAYER_TRITON=8468,t._CMLS.const.PLAYER_POSITION_TOP=80847980,t._CMLS.const.PLAYER_POSITION_BOTTOM=80667984,t._CMLS.logger=function e(){if(!t._CMLS||!t._CMLS.debug||"object"!=typeof console||!console.groupCollapsed)return!1;t._CMLS.loggerNamesToColors=t._CMLS.loggerNamesToColors||{};var n,o,i=arguments[0],r=[].slice.call(arguments[1]);t._CMLS.loggerNamesToColors[i]?(n=t._CMLS.loggerNamesToColors[i].background,o=t._CMLS.loggerNamesToColors[i].complement):(n=("000000"+Math.floor(16777215*Math.random()).toString(16)).slice(-6),o=parseInt(n,16)>=12303291?"000000":"FFFFFF",t._CMLS.loggerNamesToColors[i]={background:n,complement:o});var a=new Date;a=a.toISOString()?a.toISOString():a.toUTCString(),r=["%c["+i+"]","background: #"+n+"; color: #"+o].concat(r),t.top.console.groupCollapsed.apply(t.top.console,r),t.top.console.log("TIMESTAMP:",a),t.top.console.trace(),t.top.console.groupEnd()},t._CMLS.now=Date.now||function(){return(new Date).getTime()},t._CMLS.throttle=function(e,n,o){var i,r,a,s=null,l=0;o||(o={});var d=function(){l=!1===o.leading?0:t._CMLS.now(),s=null,a=e.apply(i,r),s||(i=r=null)};return function(){var c=t._CMLS.now();l||!1!==o.leading||(l=c);var p=n-(c-l);return i=this,r=arguments,p<=0||p>n?(s&&(clearTimeout(s),s=null),l=c,a=e.apply(i,r),s||(i=r=null)):s||!1===o.trailing||(s=setTimeout(d,p)),a}},t._CMLS.debounce=function(e,n,o){var i,r,a,s,l,d=function(){var c=t._CMLS.now()-s;c<n&&c>=0?i=setTimeout(d,n-c):(i=null,o||(l=e.apply(a,r),i||(a=r=null)))},c=function(){a=this,r=arguments,s=t._CMLS.now();var c=o&&!i;return i||(i=setTimeout(d,n)),c&&(l=e.apply(a,r),a=r=null),l};return c.clear=function(){clearTimeout(i),i=a=r=null},c},t._CMLS.whichPlayer=function(){if(t._CMLS.whichPlayerCache)return t._CMLS.whichPlayerCache;var e={type:null,position:null};return t.tgmp?(t._CMLS.logger("COMMON",["Found TuneGenie player."]),e.type=t._CMLS.const.PLAYER_TUNEGENIE,t.tgmp.options.position&&"bottom"===t.tgmp.options.position.toLowerCase()?(t._CMLS.logger("COMMON",["TuneGenie player is on the bottom."]),e.position=t._CMLS.const.PLAYER_POSITION_BOTTOM):t.tgmp.options.position&&"top"===t.tgmp.options.position.toLowerCase()&&(t._CMLS.logger("COMMON",["TuneGenie player is on the top."]),e.position=t._CMLS.const.PLAYER_POSITION_TOP)):t.TDPW&&(t._CMLS.logger("COMMON",["Found Triton player, assuming it's on top."]),e.type=t._CMLS.const.PLAYER_TRITON,e.position=t._CMLS.const.PLAYER_POSITION_TOP),t._CMLS.whichPlayerCache=e,t._CMLS.whichPlayerCache},t._CMLS.isHomepage=function(e){return e||(e=t),"/"===e.location.pathname&&!1===/[\?&]?p=/i.test(e.location.search)},t._CMLS.triggerEvent=function(e,n,o){var i;t.document.createEvent?(i=t.document.createEvent("CustomEvent"),i.initCustomEvent(n,!0,!0,o)):i=new CustomEvent(n,{detail:o}),e.dispatchEvent(i)},t._CMLS.logger("COMMON",["LIBRARY LOADED!\n                           .__                \n  ____  __ __  _____  __ __|  |  __ __  ______\n_/ ___\\|  |  \\/     \\|  |  \\  | |  |  \\/  ___/\n\\  \\___|  |  /  Y Y  \\  |  /  |_|  |  /___ \\ \n \\___  >____/|__|_|  /____/|____/____//____  >\n     \\/            \\/                      \\/ \n"]),t._CMLS.LOADED=!0)}(window),function(t){function e(){t._CMLS.logger(n+" v"+i,arguments)}var n="GLOBALIZE SGROUPS",o="globalizeSGroups",i="0.5";t._CMLS[o]||(t._CMLS[o]={cycles:0,timer:null,globalize:function n(){var i;try{if(!t.googletag||!t.googletag.pubads())throw{message:"Googletag not yet ready."};var r=t.googletag.pubads();for(var a in r)if(r[a].hasOwnProperty("cms-sgroup")){i=r[a]["cms-sgroup"];break}}catch(n){return t._CMLS[o].cycles>10?void e("TERMINATING. Could not retrieve cms-sgroup in a reasonable time, aborting."):(e("Googletag not ready, waiting to retry..."),t._CMLS[o].timer&&(clearTimeout(t._CMLS[o].timer),t._CMLS[o].timer=null),t._CMLS[o].timer=setTimeout(t._CMLS[o].globalize,500),void t._CMLS[o].cycles++)}e("Globalizing cms-sgroup"),t._CMLS.cGroups=t._CMLS.cGroups||[],t._CMLS.cGroups=i;var s=["cms-sgroup"].concat(t._CMLS.cGroups);t.sharedContainerDataLayer=t.sharedContainerDataLayer||[],t.corpDataLayer=t.corpDataLayer||[],e("Firing events");for(var l=0,d=s.length;l<d;l++)t.sharedContainerDataLayer.push({event:s[l]}),t.corpDataLayer.push({event:s[l]}),t._CMLS.triggerEvent(t,"cms-sgroup",s[l])}},t.googletag=t.googletag||{},t.googletag.cmd=t.googletag.cmd||[],t.googletag.cmd.push(function(){e("Googletag command queue initiated."),t._CMLS[o].globalize()}))}(window,void 0),function($,t,e){function n(){t.top._CMLS&&t.top._CMLS.logger&&t.top._CMLS.logger(r+" v"+s,arguments)}function o(){return t.document.querySelector("body.home")?(n("On Homepage."),!0):(n("Not on Homepage."),!1)}function i(){function e(e){try{if(!e||!e.pid||!e.format)throw{message:"Invalid request, no PID or format given.",data:e};n("Received request for "+e.format.toUpperCase()+" with PID "+e.pid,e,i[e.format.toLowerCase()]);var o=$.extend({},i[e.format.toLowerCase()],e);n("Injecting",o),"function"==typeof o.slot&&(o.slot=o.slot()),t._ttf=t._ttf||[],t._ttf.push(o),$('script[src*="teads.tv"],iframe[src*="teads.tv"]').remove(),function(t){var e,n=t.getElementsByTagName("script")[0];e=t.createElement("script"),e.async=!0,e.id="cmlsTeadsTag",e.src="//cdn.teads.tv/media/format.js",n.parentNode.insertBefore(e,n)}(t.document)}catch(t){n("Failed",t)}}var i={inboard:{slot:function(){return t.document.querySelectorAll(".wrapper-content")[0]||!1},filter:function(){return!(!o()&&!0!==t._CMLS.forceTeadsInBoard)},format:"inboard",before:!0,css:"margin: auto !important; padding-top: 5px; padding-bottom: 5px; max-width: 1020px;",size:{w:1020},launched:!1,components:{skip:{delay:0}},lang:"en",minSlot:0,BTF:!1},inread:{slot:function(){var e=t.document.querySelectorAll(".wrapper-content .column-1 .entry-content > p");return e[2]||e[e.length]},filter:!o(),before:!1,css:"margin: 10px auto !important; max-width: 90%;",launched:!1,components:{skip:{delay:0}},lang:"en",minSlot:0,BTF:!1}};this.process=e,n("Initializing _teadsinjector array handlers.");var r=function(){};if(r.prototype=[],r.prototype.push=function(){for(var t=0;t<arguments.length;t++)arguments[t].format&&arguments[t].pid&&$(e(arguments[t]))},t._teadsinjector&&t._teadsinjector.length){n("Found existing requests, processing.",t._teadsinjector);for(var a=0;a<t._teadsinjector.length;a++)e(t._teadsinjector[a])}t._teadsinjector=new r,n("Listening for future requests.")}var r="TEADS INJECTOR",a="teadsInjector",s="0.7.16";if(t.matchMedia("only screen and (max-width: 760px)").matches)return n("Mobile browser detected, ejecting."),!1;$('script[src*="teads.tv"],iframe[src*="teads.tv"]').remove(),t._CMLS=t._CMLS||{},t._CMLS[a]=new i,n("Initialized.")}(jQuery,window.self),function(t,e,n){function o(){e.top._CMLS&&e.top._CMLS.logger&&e.top._CMLS.logger(i+" v"+r,arguments)}var i="Pushdown Ad",r="0.5",a="6717",s="dfp-pushdown2",l=8,d=e.document;if(!d.querySelector("body.home"))return o("Not on homepage, exiting."),!1;if(d.getElementById(s))return o("Tag already exists, exiting."),!1;if(!e.hasOwnProperty("googletag"))return o('DFP library must be included and "googletag" window variable must be available before including this library.'),!1;var c=e.googletag,p=e._CMLS&&e._CMLS.debounce?e._CMLS.debounce:function(t){t()},t=t.noConflict(),$=function(n,o){return new t.fn.init(n,o||e.document)};$.fn=$.prototype=t.fn,t.extend($,t),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(t)}(function(t){function n(){o&&(e.requestAnimationFrame(n),t.fx.tick())}if(Number(t.fn.jquery.split(".")[0])>=3)return void(e.console&&e.console.warn&&e.console.warn("The jquery.requestanimationframe plugin is not needed in jQuery 3.0 or newer as they handle it natively."));var o;e.requestAnimationFrame&&(t.fx.timer=function(e){e()&&t.timers.push(e)&&!o&&(o=!0,n())},t.fx.stop=function(){o=!1})}),c.cmd.push(function(){function t(t){return t.length?t.contents().find("#vpContainer").length?"vast":t.contents().find(".img_ad").length?"image":!!t.contents().find("video").length&&"video":(o("Could not find DFP iframe within ad container."),!1)}function n(t){o("Handling Image creative type.");var e=t.contents().find(".img_ad");if(!e.length)return o("Attempted to handle an image creative, but no image was found."),!1;o("Making image responsive."),e.css({width:"100%",height:"auto"}),o("Checking for timeout override");var n=e.prop("alt").match(/timeout=(\d+)/i),i=n&&n.length>1?1e3*n[1]:1e3*l;return o("Triggering ad display with timeout",i),g.trigger("cmls.display",function(){m.trigger("cmls.start",[i,function(){o("Triggering ad removal."),g.trigger("cmls.hide")}])}),!0}function i(t){o("Handling custom html video creative type.");var e=t.contents().find("video"),n=e.find("source");if(!e.length)return o("Attempted to handle a custom video creative, but no video tag was found."),!1;if(!e[0].canPlayType)return o("Current browser does not support HTML video."),!1;var i=!1;return n.each(function(){var t=$(this).prop("type");return!t||!e[0].canPlayType(t).replace(/no/,"")||(i=$(this),!1)}),!1===i?(o("No video source was found to be compatible with this browser."),!1):(o("Video has a compatible source."),e.prop("controls",!1).prop("muted",!0).prop("playsinline",!0).prop("autoplay",!1).on("mouseover",function(){e.prop("muted",!1)}).on("mouseout",function(){e.prop("muted",!0)}).on("canplaythrough",function(){g.trigger("cmls.display",function(){e[0].play()})}).on("playing",function(){m.trigger("cmls.start",1e3*this.duration)}).on("ended",function(){g.trigger("cmls.hide")}),o("Video initialized."),!0)}function r(t){o("Handling VAST-delivered creative.");var n={init:function(){o("Initializing VAST player.");var i=t.contents()[0],r=i.defaultView,a=i.getElementById("vpContainer");if(!a)return o("Attempted to handle VAST creative but no vpContainer was found."),!1;var s=a.getAttribute("data-vpurl");if(!s||s.length<1)return o("No vpurl attribute provided!"),!1;s=s.replace("[timestamp]",(new Date).getTime()).replace("[referrer_url]",e.location.href),r.player=new r.VASTPlayer(a),r.player.once("AdStopped",function(){n.stopped()}),r.player.load(a.getAttribute("data-vpurl")).then(function t(){n.ready()}).catch(function(t){n.error(t)})},ready:function(){var e=t.contents()[0],n=e.defaultView;n.player.adVolume=0,g.on("mouseover",function(){n.player.adVolume=1}),g.on("mouseout",function(){n.player.adVolume=0}),g.trigger("cmls.display",function(){n.player.startAd().then(function(){o("VAST player playing."),m.trigger("cmls.start",1e3*n.player.adDuration)})})},stopped:function(){o("VAST player stopped."),g.trigger("cmls.hide")},error:function(t){o("Error from VAST player",t),g.trigger("cmls.hide")}};e._CMLS.vpPushdown=n;var i=t.contents()[0].createElement("script");i.onload=n.init,i.src="https://cdn.jsdelivr.net/npm/vast-player@latest/dist/vast-player.min.js",t.contents()[0].body.appendChild(i)}function a(e){if(e.slot.getSlotElementId()===s){if(o("Caught relevant DFP render event.",e.slot.getSlotElementId()),e.isEmpty)return o("Slot was empty!"),g.trigger("cmls.hide"),!1;o("Handling ad.");var n=g.find("iframe:first");if(!n.length)return o("Attempted to handle ad, but no DFP iframe was found."),!1;var i=t(n);if(!i)return o("No supported ad creative type found."),!1;o("Ad type detected.",i),A[i](n)}}var u,g,f,m,h,v,y,_;if(_=$(".wrapper-content:first"),!_.length)return o('Could not find ".wrapper-content" element.'),!1;try{var S=c.pubads(),C=Object.getOwnPropertyNames(S);for(var L in C){var w=S[C[L]];if(w.constructor&&w.constructor===Array)for(var M in w[0])if(w[0][M]&&w[0][M].constructor===String&&w[0][M].indexOf("/6717/")>-1){u=w[0][M];break}if(u)break}if(null===u)throw{message:"Could not retrieve ad unit path."}}catch(t){return o("Failed to retrieve DFP properties.",t),!1}u+="/pushdown",o('Ad path found, defining new slot with "/pushdown" level.',u);var b=d.createElement("div");b.id=s+"-container",b.style.display="none",g=$(b);var T=d.createElement("div");T.id=s,f=$(T).appendTo(g);var I=d.createElement("style");I.innerText=" \t\t\t\t#"+s+"-container { \t\t\t\t\tfont-size: 24px !important; \t\t\t\t\tfont-size: 5vw !important; \t\t\t\t\tfont-weight: lightest !important; \t\t\t\t\tline-height: 0 !important; \t\t\t\t\tmargin: 0 auto !important; \t\t\t\t\tmax-width: 1020px !important; \t\t\t\t\toverflow: hidden !important; \t\t\t\t\tposition: relative !important; \t\t\t\t\tz-index: 1 !important; \t\t\t\t} \t\t\t\t#"+s+" { \t\t\t\t\tposition: relative; \t\t\t\t\tmargin-bottom: 10px; \t\t\t\t} \t\t\t\t#"+s+' div[id*="google_ads"] { \t\t\t\t\tposition: relative; \t\t\t\t\tpadding-bottom: 56.25%; \t\t\t\t\tmax-width: 100%; \t\t\t\t\theight: 0; \t\t\t\t\toverflow: hidden; \t\t\t\t} \t\t\t\t#'+s+" iframe { \t\t\t\t\twidth: 100%; \t\t\t\t\theight: 100%; \t\t\t\t\tposition: absolute; \t\t\t\t\ttop: 0; \t\t\t\t\tleft: 0; \t\t\t\t} \t\t\t\t#"+s+"-close { \t\t\t\t\tcolor: white; \t\t\t\t\tfont-family: sans !important; \t\t\t\t\ttext-shadow: .05em .05em .25em black; \t\t\t\t\tmix-blend-mode: exclusion; \t\t\t\t\tcursor: pointer; \t\t\t\t\tposition: absolute; \t\t\t\t\ttop: .75em; \t\t\t\t\tright: .3em; \t\t\t\t\tz-index: 100000; \t\t\t\t} \t\t\t\t#"+s+"-timer { \t\t\t\t\tbackground: #a33; \t\t\t\t\twidth: 0; \t\t\t\t\theight: 3px; \t\t\t\t\tposition: absolute; \t\t\t\t\tbottom: 7px; \t\t\t\t\tleft: 0; \t\t\t\t\tz-index: 100000; \t\t\t\t} \t\t\t\t@media (min-width: 550px) { \t\t\t\t\t#"+s+"-container { font-size: 24px !important; } \t\t\t\t} \t\t\t\t",v=$(I).appendTo(g),y=$('<script> \t\t\t\tgoogletag.cmd.push(function() { \t\t\t\t\tgoogletag.display("'+s+'"); \t\t\t\t}); \t\t\t</script>').appendTo(f);var P=d.createElement("div");P.id=s+"-close",P.title="Close",P.innerText="✕",h=$(P).click(function(){g.trigger("cmls.hide")}).appendTo(g);var E=d.createElement("div");E.id=s+"-timer",m=$(E).appendTo(g),g.on("cmls.display",function(t,e){o("Displaying ad"),g.stop().clearQueue().slideDown("fast"),e&&e()}),g.on("cmls.hide",function(t,e){o("Hiding ad."),m.trigger("cmls.reset"),g.stop().clearQueue().slideUp(),e&&e()}),m.on("cmls.start",function(t,e,n){o("Timer display started with duration",e),m.trigger("cmls.reset",function(){o("Animating timerDiv"),m.animate({width:"100%"},e,"linear",n)})}),m.on("cmls.reset",function(t,e){o("Resetting timerDiv to 0"),m.stop().clearQueue().css("width",0),e&&(o("Callback from cmls.reset firing."),e())});var A={image:n,video:i,vast:r};c.pubads().addEventListener("slotRenderEnded",function(t){p(a(t),500)}),o("Injecting ad tag."),c.defineSlot(u,[1020,574],s).setCollapseEmptyDiv(!0).setTargeting("pos","pushdown").addService(c.pubads()),_.prepend(g)})}(jQuery,window.self),function($,t,e){function n(){a.top._CMLS&&a.top._CMLS.logger&&a.top._CMLS.logger(i+" v"+r,arguments)}function o(t){function e(){l.subscribe(function(){l.startAd()},"AdLoaded"),l.subscribe(function(){l.pauseAd()},"AdNotViewable"),l.subscribe(function(){l.resumeAd()},"AdViewable")}n("Received request!",t),t.hasOwnProperty("playerContainerId")||(t.playerContainerId="liquidPlayerContainer");var o=$("#"+t.playerContainerId);o.length&&o.remove();var i=$(".wrapper-content > .grid-container > .row-1 > .column-1 article:first"),r=i.find("p");if(r.length<2)return void n("Not enough paragraphs, ejecting.");r.eq(1).after('<div id="'+t.playerContainerId+'" style="margin-bottom: 1em"></div>'),n("Placement div injected, running Liquid code");var s={pid:t.pid,sid:t.sid,playerContainerId:t.playerContainerId,playerId:"",playerWidth:"",playerHeight:"",execution:"outstream",placement:"incontent",playInitiation:"auto",volume:100,trackImp:"",trackClick:"",custom1:"",custom2:"",custom3:"",pubMacros:"",dfp:!1,lkqdId:(new Date).getTime().toString()+Math.round(1e9*Math.random()).toString()},l,d="",c={slot:a.document.getElementById(s.playerContainerId),videoSlot:a.document.getElementById(s.playerId),videoSlotCanAutoPlay:!0,lkqdSettings:s};n(c);var p=a.document.createElement("iframe");p.id=s.lkqdId,p.name=s.lkqdId,p.style.display="none";var u=function(){p.contentWindow.addEventListener("lkqdFormatsLoad",function(){l=p.contentWindow.getVPAIDAd(),e(),l.handshakeVersion("2.0"),l.initAd(s.playerWidth,s.playerHeight,"normal",600,"",c)});var n=p.contentWindow.document.createElement("script");n.setAttribute("async","async"),n.src="https://ad.lkqd.net/vpaid/formats.js?pid="+t.pid+"&sid="+t.sid,p.contentWindow.document.body.appendChild(n)};p.onload=u,p.onerror=u,a.document.documentElement.appendChild(p)}var i="LIQUID INJECTOR",r="0.4",a=t;n("Initializing Liquid Video Injector");var s=function(){};if(s.prototype=[],s.prototype.push=o,n("Initialized, use CMLSinjectLiquidAd.push({ pid: #, sid: # }) to inject."),a.CMLSinjectLiquidAd&&a.CMLSinjectLiquidAd.length)for(var l=0;l<a.CMLSinjectLiquidAd.length;l++)o(a.CMLSinjectLiquidAd[l]);a.CMLSinjectLiquidAd=new s,n("Listening for future requests.")}(jQuery,window.self),function(t,e){function n(){t._CMLS.logger(o+" v"+r,arguments)}var o="PLAYER WATCH",i="playerWatch",r="0.5";!t._CMLS[i]&&(t.TDPW?(t._CMLS[i]={initialized:!1,cache:{},timer:null,interval:2500,const:{STOPPED:0,PLAYING:1},setDFPCriteria:function e(o,i){t.googletag=t.googletag||{},t.googletag.cmd=t.googletag.cmd||[],t.googletag.cmd.push(function(){n("Setting targeting",o,i),t.googletag.pubads().setTargeting(o,i)})},checkCurrentTrack:function e(){var n=!(!localStorage||!JSON)&&JSON.parse(localStorage.getItem("tdas.controller."+t.amp_player_config.station+"."+t.amp_player_config.stream_id+".events.current-state"));n&&n.data&&(n.data.stream&&"LIVE_PLAYING"===n.data.stream.code.toUpperCase()?this.setState(this.const.PLAYING):this.setState(this.const.STOPPED),n.data.song&&n.data.song.id&&this.hasTrackChanged(n.data.song.id)&&this.trackHasChanged(n.data.song))},setState:function e(o){return o===this.const.PLAYING&&o!==this.cache.state?(n("Player is streaming."),this.cache.state=o,this.setDFPCriteria("td-player-state","PLAYING"),void t._CMLS.triggerEvent(t,"td-player.playing")):o===this.const.STOPPED&&o!==this.cache.state?(n("Player is stopped."),this.cache.state=o,this.setDFPCriteria("td-player-state","STOPPED"),void t._CMLS.triggerEvent(t,"td-player.stopped")):void 0},hasTrackChanged:function t(e){return!(!e||e===this.cache.trackId)},trackHasChanged:function e(o){n("Song has changed!",o),this.cache.trackId=o.id,o.artist&&this.setDFPCriteria("td-player-artist",o.artist),o.album&&this.setDFPCriteria("td-player-album",o.album),o.title&&this.setDFPCriteria("td-player-track",o.title),this.setDFPCriteria("td-player-id",o.id),t._CMLS.triggerEvent(t,"td-player.trackchange",o)},startTimer:function t(){var e=this;clearTimeout(this.timer),this.timer=null,this.timer=setTimeout(function(){e.checkCurrentTrack(),e.startTimer()},this.interval)},init:function e(){return t.amp_player_config&&t.amp_player_config.station&&t.amp_player_config.stream_id?(this.checkCurrentTrack(),this.startTimer(),this.initialized=!0,n("Initialized!",this.cache.trackId),this):(n("Player configuration not available, exiting."),!1)}},t._CMLS[i].init()):n("Triton player not enabled, exiting."))}(window),function(t,e){function n(){l._CMLS&&l._CMLS.hasOwnProperty("logger")&&l._CMLS.logger(i+" v"+a,arguments)}function o(){if(n("InitTest called."),!p){if(!s._CMLS.cGroups)return void n("Init test called without cGroups available, exiting.");for(var t=0,e=s._CMLS.cGroups.length;t<e;t++)/Format\s+(NewsTalk|Talk|Sports|Christian Talk)/i.test(s._CMLS.cGroups[t])&&(n("Valid cGroup found, initializing timer."),l._CMLS[r]=new c,p=!0)}}var i="AUTO REFRESH ADS",r="autoRefreshAds",a="0.4.15",s=t,l=t.top,d=t.self;if(!(s.DISABLE_AUTO_REFRESH_ADS||d.DISABLE_AUTO_REFRESH_ADS||l.DISABLE_AUTO_REFRESH_ADS)){if(s._CMLS.autoRefreshAdsTimer=d._CMLS.autoRefreshAdsTimer||4,l._CMLS&&l._CMLS.hasOwnProperty(r))return void(l._CMLS[r].checkState()&&l._CMLS[r].start());var c=function(t){function e(){if(s.tgmp){var t=l.document.querySelector("iframe#page_frame");if(t&&t.contentWindow)return t.contentWindow}return s}function o(){return!l._CMLS.autoReload||!l._CMLS.autoReload.active||(n("AutoReloadPage is active, so we will not additionally refresh page ads."),!1)}function i(){return o()?(new Date).getTime()>=v?void c():void(h=setTimeout(i,5e3)):(n("Conditions went bad while timer was running, killing timer."),void a())}function r(){return y}function a(){n("Stopping timer."),clearTimeout(h),h=null,v=null,y=!1}function d(t){a(),o()&&(v=t||new Date((new Date).getTime()+6e4*s._CMLS.autoRefreshAdsTimer),n("Starting timer, will fire at "+v.toLocaleString()),i(),y=!0)}function c(){if(!o())return n("Conditions went bad at fire timer, killing timer."),void a();var t=e();t.googletag.cmd.push(function(){n("Refreshing page ads."),t.googletag.pubads().refresh(),_.start()})}function p(){return v}function u(){v=new Date((new Date).getTime()+6e4*s._CMLS.autoRefreshAdsTimer)}function g(t){if(!0===t)return n("TG Player playing!"),void d();n("TG Player stopped."),a()}function f(){a(),l.removeEventListener("td-player.playing",d),l.removeEventListener("td-player.stopped",a)}var m=l._CMLS.whichPlayer(),h=null,v=null,y=!1,_=this;this.checkState=r,this.stop=a,this.start=d,this.getFireTime=p,this.resetFireTime=u,this.destroy=f,n("Initializing."),m.type===l._CMLS.const.PLAYER_TRITON&&(l.addEventListener("td-player.playing",d,!1),l.addEventListener("td-player.stopped",a,!1),s.History&&s.History.Adapter&&s.History.Adapater.bind(s,"pageChange",u),n("Triton Player listeners set.")),m.type===l._CMLS.const.PLAYER_TUNEGENIE&&l.tgmp&&l.TGMP_EVENTS&&(l.tgmp.addEventListener(l.TGMP_EVENTS.streamplaying,g),n("TG Player listener set.")),n("Listeners set."),t&&(n("Initialized with a time to fire, using it."),d(t))},p=!1;o(),p||(s.addEventListener("cms-sgroup",function(){p||o()},!1),n("Waiting for cGroups"))}}(window),function($,t,e){function n(){t._CMLS.logger(i+" v"+a,arguments)}function o(){if(n("Checking for player...",l),t._CMLS[r].isPlayerActive())return void t._CMLS[r].init();l>20||(setTimeout(o,1e3),l++)}var i="NAV THROUGH PLAYER",r="navThroughPlayer",a="0.1",s=t._CMLS.whichPlayer();if(!t._CMLS[r]){t._CMLS[r]={isPlayerActive:function e(){return s=t._CMLS.whichPlayer(),!!s.type},updateIframeLinks:function e(o){if(t._CMLS[r].isPlayerActive){var i=o.jquery?o:$(o);if(o.getAttribute("src")&&(o.getAttribute("src").indexOf(t.location.hostname)<0||o.getAttribute("src").indexOf("/safeframe/")>0))return void n("Ad iframe is in a safeframe, cannot update.",o);try{i.contents().find('a[target="_self"],a[target="_top"],a[target="_parent"]').each(function(){n("Updating links in slot.",i.prop("id")),t._CMLS[r].updateLink(this)})}catch(t){n("Could not update links in given iframe",o,t)}}},updateLink:function e(n,o){if(t._CMLS[r].isPlayerActive&&n){var i=n.jquery?n:$(n),a=t.document.createElement("a");if(a.href=i.prop("href"),0===a.href.indexOf("/")||a.hostname!==t.location.hostname&&!o)return void(a=null);i.off("."+r).on("click."+r,t._CMLS[r].clickThrough),a=null}},clickThrough:function e(o){o&&t._CMLS[r].isPlayerActive()&&(o.preventDefault(),n("Intercepting click."),t._CMLS[r].navigate(o.currentTarget.href))},navigate:function e(o){s.type===t._CMLS.const.PLAYER_TRITON&&t.History&&(n("Navigating through Triton player.",o),t.History.pushState(null,null,o)),s.type===t._CMLS.const.PLAYER_TUNEGENIE&&t.top.tgmp&&(n("Navigating through TuneGenie player.",o),t.top.tgmp.updateLocation(o))},init:function e(){if(!t._CMLS[r].isPlayerActive())return void n("No player is active, exiting.");n("Initializing."),t.googletag=t.googletag||{},t.googletag.cmd=t.googletag.cmd||[],t.googletag.cmd.push(function(){t.googletag.pubads().addEventListener("slotRenderEnded",function(e){if(e&&e.slot){var n=e.slot.getSlotElementId(),o=t.document.getElementById(n);t._CMLS[r].updateIframeLinks(o)}})}),$('iframe[id^="google_ads_iframe"],#cmlsWallpaperInjectorContainer iframe').each(function(){t._CMLS[r].updateIframeLinks(this)}),$(t).load(function(){$('iframe[id^="google_ads_iframe"],#cmlsWallpaperInjectorContainer iframe').each(function(){t._CMLS[r].updateIframeLinks(this)})}),n("Initialized.")}};var l=0;o()}}(jQuery,window),function($,t,e){function n(){t._CMLS.logger(r+" v"+s,arguments)}function o(o){function i(){var t,n=document.createElement("fakeelement"),o={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkittransitionend",msTransition:"mstransitionend"};for(t in o)if(n.style[t]!==e)return o[t]}function r(t){var e=0,n=t.length,o,i;if(0===n)return e;for(o=0;o<n;o++)i=t.charCodeAt(o),e=(e<<5)-e+i,e&=e;return e}function a(){return y.dfpSlot=$(o.dfpSlotNode),y.injectionNode=$(o.injectionNode),y.stickNode=$(o.stickNode),y.contentNode=$(o.contentNode),y.footerNode=$(o.footerNode),y.obstructiveNode=$(o.obstructiveNode),y.window=$(t),y.document=$(t.document),s(),y}function s(){return n("Refreshing stick position."),y.stickAt=y.stickNode.length?y.stickNode.offset().top:0,y.stickAt}function l(t){if(y.container&&y.container.length)return y.container;var e=$("#"+S+"Container");if(e.length)return y.container=e,y.container;if(!0===t)return!1;n("Generating new wallpaper container."),a();var o=$("<div />",{id:S+"Container",class:S+"-container"});return y.injectionNode.prepend(o),y.container=o,d(),y.container}function d(){var t=l(),e={content:y.contentNode.css(["position","zIndex"]),footer:y.footerNode.css(["position","zIndex"])};"static"===e.content.position&&(n("Setting content area position to relative."),y.contentNode.css("position","relative")),("auto"===e.content.zIndex||e.content.zIndex<=t.css("zIndex"))&&(n("Raising content area above wallpaper container."),y.contentNode.css("zIndex",t.css("zIndex")+1)),"static"===e.footer.position&&(n("Setting footer area position to relative."),y.footerNode.css("position","relative"),y.footerNode.css("zIndex",t.css("zIndex")+2)),y.contentNode.data("originalStyles",e.content),y.footerNode.data("originalStyles",e.footer),n("Content area has been raised.")}function c(){n("Displaying wallpaper."),l().off(w).addClass(S+"-open"),y.obstructiveNode.hide(),f()}function p(){function t(){r=!0,y.obstructiveNode.show(),n("Clearing all event listeners."),y.window.off("."+S),o&&o.length&&(n("Removing wallpaper container."),o.off("."+S).remove()),y.container=null,e.resolve()}var e=$.Deferred(),o=l(!0),i=!(!o||!o.length)&&o.hasClass(S+"-open"),r=!1;return n("RESET!"),o&&o.length?(o.off(w).removeData().removeProp("data").css("backgroundColor","rgba(0,0,0,0)").removeClass(S+"-open").removeClass(S+"-fixed"),n("Container is closing."),w&&i&&o.on(w,function(e){"opacity"===e.originalEvent.propertyName&&(n("Transition complete."),t())}),setTimeout(function(){r||t()},800)):t(),n("Returning our promise."),e.promise()}function u(){return l().hasClass(S+"-fixed")}function g(t){var e=l();u()&&!1===t&&(n("Unfixing wallpaper position."),e.removeClass(S+"-fixed").css("top","0")),u()||!0!==t||(n("Fixing wallpaper position."),s(),e.addClass(S+"-fixed").css("top",y.stickAt))}function f(){function t(){var t=y.window.scrollTop();return(y.injectionNode.length?y.injectionNode.offset().top:0)<t+y.stickAt}n("Initializing scroll tracking."),s(),g(t()?!0:!1),y.window.on("scroll."+S,C(function(){if(t())return void g(!0);g(!1)},50)),y.window.on("resize."+S,L(function(){s()},500)),n("Scroll tracking enabled.")}function m(){try{if($(o.contentNode).height()<200)return _===e&&(_=20),0===_?(n("Timed out waiting for content node."),void(_=e)):(_--,n("Content node is not ready, retrying.",_),void setTimeout(function(){m()},500));a(),n("Processing wallpaper slot.");var i=y.dfpSlot.find("iframe"),s=i.contents().find("#google_image_div,body").first(),d=s.find("a:first"),u=s.find("img.img_ad:first,img:first").first(),g=u.prop("alt");if(n("Checking image."),!u.length)return n("No image found in ad slot! Resetting."),void p();var f=l(),h=r((d.length?d.prop("href")+d.prop("target"):"")+u.prop("src"));if(n("Generated hash.",h),h===f.data("hash"))return void n("Requested wallpaper is already set.");n("Getting background color.",g);var v="rgba(255,255,255,0)",C=g.match(/(\#[A-Za-z0-9]+)/)||!1;C&&C.length>1&&(v=C[1]),n("Using background color.",v),p().then(function(){n("Building the new wallpaper.");var e="";d.length&&(e=$("<a />",{href:d.prop("href"),target:d.prop("target")}),t._CMLS.navThroughPlayer&&t._CMLS.navThroughPlayer.updateLink(e[0]));var o=$("<iframe />",{name:S+"Iframe",scrolling:"no",marginWidth:"0",marginHeight:"0",frameborder:"0"});n("Injecting iframe into container."),f=l(),f.data("hash",h).css("backgroundColor",v).append(o);var i='<style>html,body{background:transparent;margin:0;padding:0;width:100%;height:100%;}body{background:url("'+u.prop("src")+'") no-repeat top center;}'+(u.prop("alt").indexOf("contain")>-1?"body{background-size:100%}":"")+"a{display:block;width:100%;height:100%;text-decoration:none;}</style>";o.load(function(){n("Injecting wallpaper into iframe."),o.contents().find("body").append(i,e)}).prop("src","about:blank"),u.length?(n("Initializing preloader."),$("<img />").bind("load",function(){c(),$(this).remove()}).prop("src",u.prop("src"))):c()})}catch(t){console.log("WTF PEOPLE",t)}}function h(t){if(t.slot.getTargeting("pos").indexOf("wallpaper-ad")>-1)return n("Caught render event for wallpaper-ad",t.slot.getSlotElementId()),t.isEmpty?(n("Slot was empty, resetting wallpaper container."),p()):(n("Slot contained an ad, processing wallpaper."),m()),!1}function v(){$(t).off("."+S)}var y={},_,S=o.nameSpace||"wallpaperInjector",C=t._CMLS.throttle,L=t._CMLS.debounce,w=i();this.reset=p,this.process=m,this.unbindAllListeners=v,n("Initializing."),t.googletag=t.googletag||{},t.googletag.cmd=t.googletag.cmd||[],t.googletag.cmd.push(function(){t.googletag.pubads().addEventListener("slotRenderEnded",function(t){L(h(t),1e3)})});var M='<style id="'+S+'Styles">.'+S+"-container {display: block !important;position: absolute;z-index: 0;top: 0;left: 0;height: 0 !important;width: 100% !important;overflow: hidden;text-align: center;transition: opacity 0.5s, height 0.6s, background-color 0.4s;opacity: 0;}."+S+"-container iframe {border: 0;height: 100%;width: 100%;}."+S+"-container ~ .grid-container {transition: box-shadow 0.6s}."+S+"-open {height: 100% !important;opacity: 1;}."+S+"-open ~ .grid-container {box-shadow: 0 0 20px rgba(0,0,0,0.3);}."+S+"-fixed {position: fixed;}"+o.dfpSlotNode+" {display: none !important;}</style>";t.document.getElementById(S+"Styles")||$("head").append(M),"complete"===t.document.readyState||"loaded"===t.document.readyState?m():$(function(){m()})}var i={dfpSlotNode:"#div-gpt-ad-1418849849333-16",injectionNode:".wrapper-content",stickNode:".wrapper-header",contentNode:".wrapper-content .grid-container:first",footerNode:".wrapper-footer",obstructiveNode:".takeover-left, .takeover-right, .skyscraper-left, .skyscraper-right"},r="WALLPAPER INJECTOR",a="wallpaperInjector",s="0.5";t._CMLS[a],i.nameSpace=a,t._CMLS[a]=new o(i)}(jQuery,window),function($,t,e){function n(){s.logger(i+" v"+a,arguments)}function o(){var e=t.top.googletag||{};e.cmd=e.cmd||[],e.cmd.push(function(){$(function(){if($("#CMLSPlayerSponsorship").length)return void n("Container already exists, exiting.");n("Discovering local site ad path.");var t=null;try{var o=e.pubads(),i=Object.getOwnPropertyNames(o);for(var r in i){var a=o[i[r]];if(a.constructor&&a.constructor===Array)for(var l in a[0])if(a[0][l]&&a[0][l].constructor===String&&a[0][l].indexOf("/6717/")>-1){t=a[0][l];break}if(t)break}if(null===t)throw{message:"Could not retrieve ad unit path."}}catch(t){return void n("Failed to retrieve DFP properties.",t)}n("Ad path found, defining new slot.",t);var d=e.defineSlot(t,[[120,60]],"CMLSPlayerSponsorship");d&&d.addService(e.pubads()).setCollapseEmptyDiv(!0).setTargeting("pos","playersponsorlogo"),
$("body").append('<style id="CMLSPlayerSponsorshipStyle">#CMLSPlayerSponsorship {position: fixed;z-index: 2147483647;width: 120px;height: 60px;}#CMLSPlayerSponsorship.cmls-player-tg {left: 50%;transform: translate(-520px, 0);}#CMLSPlayerSponsorship.cmls-player-triton {left: 50%;transform: translate(30px, 0);}#CMLSPlayerSponsorship.cmls-player-pos-bottom {bottom: 10px;}#CMLSPlayerSponsorship.cmls-player-pos-top {top: 10px;}#CMLSPlayerSponsorship.cmls-player-triton.cmls-player-pos-top {top: 5px;}@media (max-width: 75rem) {#CMLSPlayerSponsorship.cmls-player-tg {left: 80px;transform: translate(0,0);}}@media (max-width: 1042px) {#CMLSPlayerSponsorship.cmls-player-tg {display: none}}@media (max-width: 800px) {#CMLSPlayerSponsorship.cmls-player-triton {display: none}}</style>');var c=$('<div id="CMLSPlayerSponsorship"><script>googletag.cmd.push(function() { googletag.display("CMLSPlayerSponsorship")});</script></div>'),p=s.whichPlayer();p.position===s.const.PLAYER_POSITION_TOP&&c.addClass("cmls-player-pos-top"),p.position===s.const.PLAYER_POSITION_BOTTOM&&c.addClass("cmls-player-pos-bottom"),p.type===s.const.PLAYER_TRITON&&c.addClass("cmls-player-triton"),p.type===s.const.PLAYER_TUNEGENIE&&c.addClass("cmls-player-tg"),$("body").append(c),n("Slot initialized.")})})}var i="PLAYER SPONSOR INJECTOR",r="playerSponsorInjector",a="0.1",s=t._CMLS;if(t.self!==t.top)return void $(function(){t.parent._CMLSPlayerSponsorshipInit=t.parent._CMLSPlayerSponsorshipInit||[],t.parent._CMLSPlayerSponsorshipInit.push(1)});var l=function(){};l.prototype=[],l.prototype.push=function(){o()},t.self._CMLSPlayerSponsorshipInit=new l,$(o()),s[r]=a}(window.top.jQuery,window),function($,t,e){function n(){t._CMLS.logger(i+" v"+a,arguments)}function o(t){try{n("Event fired: "+t),sharedContainerDataLayer.push({event:t}),corpDataLayer.push({event:t})}catch(t){}}var i="GTM STREAM TRACKING",r="GTMStreamTracker",a="0.3";t.top.tgmp&&!t._CMLS[r]&&(t._CMLS[r]=!0,t.top.tgmp.addEventListener(t.top.TGMP_EVENTS.streamplaying,function(t){!0===t?(n("Stream started."),o("siteplayer-stream-playing")):!1===t&&(n("Stream stopped."),o("siteplayer-stream-stopped"))}),t.addEventListener("td-player.playing",function(){o("siteplayer-stream-playing")}),t.addEventListener("td-player.stopped",function(){o("siteplayer-stream-stopped")}),n("Initialized."))}(jQuery,window),function($,t,e){function n(){window._CMLS.logger(i+" v"+r,arguments)}function o(t,e){try{n("Event fired: "+t,e),sharedContainerDataLayer.push({event:t,promoReelClickURL:e}),corpDataLayer.push({event:t,promoReelClickURL:e})}catch(t){}}var i="GTM PROMO REEL TRACKING",r="0.1";window._CMLS.GTMPromoReelTracker=!0,$(function(){$(".home .sliderItem").click(function(){var t=$(this),e=t.attr("data-href");(!e||e.length<1)&&(e=t.attr("onclick").replace(/window\.open=\(\'([^\']+).*/,"$1").replace(/window\.location=\'([^\']+).*/,"$1")),o("promoreel-click",e)})})}(jQuery,window.self),function(t,e){function n(){t._CMLS&&t._CMLS.logger&&t._CMLS.logger(i+" v"+r,arguments)}function o(){function e(){return l.type===t._CMLS.const.PLAYER_TUNEGENIE&&t.page_frame?t.page_frame.document.querySelector(r.condition):t.document.querySelector(r.condition)}function o(t){return new Date(Date.now()+t)}var i={condition:"body.home",timeout:8},r=i,a,s,l=t._CMLS.whichPlayer(),d=this;this.start=function(l){if(n("Starting timer.",l),d.stop(),r={condition:l.condition||i.condition,timeout:l.timeout||i.timeout},!e())return void n("Condition check failed at start.");s=o(6e4*r.timeout),n("Starting countdown, reloading at "+s),t._CMLS.autoReload&&(t._CMLS.autoReload.active=!0),a=setInterval(d.tick,1e4)},this.stop=function(){a&&(n("Stopping timer."),clearInterval(a),a=null,t._CMLS.autoReload&&(t._CMLS.autoReload.active=!1))},this.tick=function(){Date.now()>s.getTime()&&d.fire()},this.fire=function(){return d.stop(),e()?(n("Reloading page."),l.type===t._CMLS.const.PLAYER_TRITON&&t.History&&t.History.Adapter?void t.History.Adapter.trigger(t,"statechange"):l.type===t._CMLS.const.PLAYER_TUNEGENIE?void t.tgmp.updateLocation(t.location.href):void t.location.reload()):void n("Condition check failed before firing, timer stopped.")},this.push=function(t){n("Received request.",t),d.start(t)}}var i="AUTO-RELOAD PAGE",r="0.9",a;t._CMLS&&(t._CMLS.autoReload&&t._CMLS.autoReload.constructor===Array&&t._CMLS.autoReload.length&&(n("Loaded with request.",t._CMLS.autoReload),a=t._CMLS.autoReload[t._CMLS.autoReload.length-1]),t._CMLS.autoReload&&t._CMLS.autoReload.constructor!==Array||(t._CMLS.autoReload=new o)),n("Initialized."),a&&t._CMLS.autoReload.push(a)}(window.top),function($,t,e){function n(){t.top._CMLS&&t.top._CMLS.logger&&t.top._CMLS.logger(o+" v"+r,arguments)}var o="ADDTHIS INJECTOR",i="addThisInjector",r="0.6.17",a="ra-55dc79597bae383e";if(t.self.addthis&&t.self.addthis_config&&t.self.addthis_config.pubid&&t.self.addthis_config.pubid!==a)return void n("AddThis already loaded by local page.");if(t.self!==t.top?(n("Not top window."),t.top.addthisDestroyer&&t.top.addthisDestroyer(),$(t).unload(function(){n("Removing AddThis layers."),$(".addthis-smartlayers").remove()})):(n("Loaded in top window."),t.top.addthisDestroyer=function(){if(n("Removing addthis from top window."),$('script[src*="addthis"]').remove(),t.top.addthisLayerReference){n("Instructing addthis to destroy itself.");try{t.top.addthisLayerReference.destroy()}catch(t){}delete t.top.addthisLayerReference,$(".addthis-smartlayers").remove()}else n("No addthis object in top window.")}),t.self.NO_ADDTHIS_HERE)return void n("NO_ADDTHIS_HERE found, will not build.");if(t.top._CMLS&&t.top._CMLS.hasOwnProperty("isHomepage")&&t.top._CMLS.isHomepage(t.self))return void n("Will not build on homepage, exiting.");t.self.addthis_config=t.self.addthis_config||{},t.self.addthis_config.pubid=a,n("Building addthis script.");var s=t.self.document.createElement("script");s.onload=function(){},s.src="//s7.addthis.com/js/300/addthis_widget.js#async=1",s.id=i+"-script",s.async=!0,t.self.document.head.appendChild(s),n("Injected.")}(jQuery,window),function($,t,e){function n(){a.logger(o+" v"+r,arguments)}var o="BREAKING NEWS BAR",i="BreakingNews",r="0.7",a=t._CMLS||{};Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),a[i]=function(e,o){n("Called",typeof e,e,o);var i={classPrefix:"cmlsBreakingNews",additionalClass:"",position:"above",link:"",target:"_top",beforeText:"Breaking News:",text:"",background:"#900",color:"#fff"},r,s=".wrapper-header";if($(s).length){if("object"!=typeof e||Array.isArray(e))if("object"==typeof e&&Array.isArray(e)&&e.length)r=i,r.text=e[0],e.length>1&&(o=e[1]),n("Basic mode!");else{if("object"==typeof e)return void n("Invalid usage!",e,o);r=i,r.text=e,n("Basic mode!")}else r=$.extend({},i,e),n("Advanced mode!");!r.link&&o&&(r.link=o),n("Settings:",r);var l="."+r.classPrefix+"-container { display: block; box-sizing: border-box; position: relative; float: none; overflow: hidden; z-index: 10; padding: 1em; color: #fff; background: #900; box-shadow: 0 0 10px rgba(0,0,0,0.4); font-size: 14px; line-height: 1.2; text-decoration: none; outline: 0 }."+r.classPrefix+"-container > a { display: block; color: inherit !important; cursor: pointer; padding: 1em; margin: -1em; }."+r.classPrefix+"-container > a:hover ."+r.classPrefix+"-before { text-decoration: underline; }."+r.classPrefix+"-inner { box-sizing: border-box; max-width: 1020px; margin: 0 auto; }."+r.classPrefix+"-before { float: left; font-weight: bold; margin-right: .5em; }."+r.classPrefix+"-text { overflow: hidden; }."+r.classPrefix+"-inner a { text-decoration: underline !important; color: inherit; }@media (max-width: 500px) {."+r.classPrefix+"-before { float: none; margin-bottom: .25em; }}",d='<div class="'+r.classPrefix+'-container"><div class="'+r.classPrefix+'-inner">{{BEFORE}}<div class="'+r.classPrefix+'-text">{{TEXT}}</div></div></div>';if(r.beforeText&&r.beforeText.length){var c='<div class="'+r.classPrefix+'-before">'+r.beforeText+"</div>";d=d.replace("{{BEFORE}}",c)}if(d=$(d.replace("{{TEXT}}",r.text)),r.link&&r.link.length){var p=$("<a></a>").prop({href:r.link,target:r.target});d.wrapInner(p)}d.css({background:r.background,color:r.color}),d.addClass(r.additionalClass).prop("id","CMLSBreakingNews-"+Math.floor(1e7*Math.random())),$("#cmlsBreakingNewsStyles").length||$("head").append('<style id="cmlsBreakingNewsStyles">/* CMLS Breaking News Bar styles */\n'+l+"</style>"),"below"===r.position?($(s).after(d),$("#cmlsBreakingNewsStyles").append(".takeover-left,.takeover-right,.skyscraper-left,.skyscraper-right { margin-bottom: -"+d.outerHeight()+"px; }")):$(s).before(d),a.navThroughPlayer&&(n("Applying navThroughPlayer to bar links."),d.find('a:not([href]),a[target="_self"],a[target="_top"],a[target="_parent"]').each(function(){n("Applying navThroughPlayer to a link.",this.href),a.navThroughPlayer.updateLink($(this))})),"above"===r.position&&(t.DO_NOT_AUTO_SCROLL=!0)}};var s=function(){};s.prototype=[],s.prototype.push=function(){n("Received after-load request.",arguments),a[i].apply(null,arguments)},t["_CMLS"+i]&&t["_CMLS"+i].length&&t["_CMLS"+i].forEach(a[i]),t["_CMLS"+i]=new s}(jQuery,window),function($,t,e){function n(){t._CMLS.logger(o+" v"+i,arguments)}var o="SOCIAL LISTEN LIVE LINK",i="0.1";t._CMLS=t._CMLS||{},n("Starting..."),$(function(){if(!t.top.tgmp)return void n("TuneGenie player not enabled.");n("Storing TGMP default configuration."),t.top.tgmp_default_brand=t.top.tgmp_default_brand||""+t.top.tgmp.options.brand,t.top.tgmp_default_theme=t.top_tgmp_default_theme||t.top.tgmp.options.theme,n("Locating Listen Live button.");var e=$('.social-icons img[title="Listen Live!!"],.social-icons-container img[title="Listen Live!!"],.nav-listenlive img');if(!e.length)return void n("Could not locate Listen Live button in social icons.");e.parent().is("a")&&(e=e.parent()),e.click(function(e){if(e.preventDefault(),n("Playing stream..."),t.top.tgmp_default_brand&&t.top.tgmp.options.brand!==t.top.tgmp_default_brand)return void t.top.tgmp.update({brand:t.top.tgmp_default_brand,theme:t.top.tgmp_default_theme,autostart:!0});t.top.tgmp.playStream()}),n("Social Listen Live button activated.")}),t._CMLS.socialListenLiveLink=i,n("Initialized.")}(jQuery,window),function($,t,e){function n(){if(t.top._CMLS&&t.top._CMLS.logger)return t.top._CMLS.logger(r+" v"+s,arguments)}function o(){var e=t.document.body.className.match(/postid\-(\d+)/);return!!(e&&e.length>1&&parseInt(e[1],10))&&e[1]}function i(){function e(t,e){return t?(e||(e="inform-pp-top"),a.replace("{POS_ID}",e).replace("{DPID}",t)):(n("getTemplate called without DPID"),!1)}function i(t){if(n("Inject called",t),!t)return n("Inject called without DPID."),!1;var i=o();if(!1===i)return n("Could not retrieve post ID while injecting",t),!1;n("Post ID retrieved",i);var r=$("article#post-"+i+" .entry-content > p:not(:has(img)):not(.read-more-full-link),article#post-"+i+" .entry-content > *:not(.themify_builder_content) p:not(:has(img)):not(.read-more-full-link)");if(r.length)return n("Found "+r.length+" p tags."),r.length>4?(n("Injectng top embed after 5th p tag"),r.eq(4).after(e(t,"inform-pp-top"))):r.length>1?(n("Injecting top embed after 1st p tag."),r.first().after(e(t,"inform-pp-top"))):n("Not enough p tags to inject top embed."),r.length>8?(n("Injecting bottom embed after last p tag."),r.last().before(e(t,"inform-pp-bottom"))):n("Not enough p tags to inject bottom embed."),!0;n("No valid p tags found in post.")}function r(t){try{if(!t||!t.id)throw{message:"Invalid request, no ID",data:t};n("Received request to inject Inform embed with ID "+t.id),i(t.id)}catch(t){n("Failed",t)}}var a='<div class="ndn_embed" id="{POS_ID}" data-config-distributor-id="{DPID}" data-config-width="100%" data-config-aspect-ratio="16:9"></div><script type="text/javascript">var _informq = _informq || []; _informq.push(["embed"]);</script>';if(this.process=r,t._informinjector&&t._informinjector.length){n("Found existing requests, processing.",t._informinjector);for(var s=0;s<t._informinjector.length;s++)r(t._informinjector[s])}n("Initializing InformInjector array handler.");var l=function(){};l.prototype=[],l.prototype.push=function(){for(var t=0;t<arguments.length;t++)arguments[t].id&&$(r(arguments[t]))},t._informinjector=new l,n("Listening for future requests.")}var r="INFORM INJECTOR",a="informInjector",s="0.2";if(t.document.body.className.indexOf("single-feed_posts")<0&&t.document.body.className.indexOf("single-post")<0)return n("Not a post, ejecting."),!1;$("script#informbase").remove(),$('<script type="text/javascript" id="informbase" src="//launch.newsinc.com/js/embed.js"></script>').appendTo("head"),t._CMLS=t._CMLS||{},t._CMLS[a]=new i,n("Initialized.")}(jQuery,window.self);
//# sourceMappingURL=./compiled-allsites-min.js.map